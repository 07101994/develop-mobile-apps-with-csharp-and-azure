<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Your First Mobile App - Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Your First Mobile App";
    var mkdocs_page_input_path = "introduction.md";
    var mkdocs_page_url = "/introduction/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Introduction</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Your First Mobile App</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#your-first-mobile-app">Your First Mobile App</a></li>
                
                    <li><a class="toctree-l4" href="#the-mobile-backend">The Mobile Backend</a></li>
                
                    <li><a class="toctree-l4" href="#the-mobile-client">The Mobile Client</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../authentication/">Authentication</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../data/">Data Access and Offline Sync</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../files/">File Management</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../push/">Push Notifications</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../custom/">Server Side Code</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../combined/">Web and Mobile Apps</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../developing/">The Development Environment</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../testing/">Testing your Application</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../troubleshooting/">Troubleshooting</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../production/">Going to Production</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../references/">References</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Your First Mobile App</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="your-first-mobile-app">Your First Mobile App</h1>
<p>There is a lot of detail to absorb about the possible services that the mobile
client can consume and I will go into significant depth on those subjects.
First, wouldn't it be nice to write some code and get something working?
Microsoft Azure has a great <a href="https://azure.microsoft.com/en-us/documentation/learning-paths/appservice-mobileapps/">first-steps tutorial</a> that takes you via the
quickest possible route from creating a mobile backend to having a functional
backend.  I would like to take things a little slower so that we can understand
what is going on while we are doing the process.  We will have practically the
same application at the end.</p>
<p>The application we are going to build together is a simple task list.  The
mobile client will have three screens - an entry screen, a task list and a task
details page.  I have mocked these pages up using <a href="https://mockingbot.com/app/RQe0vlW0Hs8SchvHQ6d2W8995XNe8jK">MockingBot</a>.</p>
<blockquote>
<p>Mocking your screens before you start coding is a great habit to get into.
There are some great tools available including free tools like <a href="https://mockingbot.com/">MockingBot</a>.
Doing mockups before you start coding is a good way to prevent wasted time later
on.</p>
</blockquote>
<p><img alt="Application Mockups for the Task List" src="../img/ch1-pic1.PNG" /></p>
<blockquote>
<p>Why include a back button?  If you are using iOS, then you may want to remove
the back button as the style guides suggest you don't need one.  Other platforms
will need it though, so it's best to start with the least common denominator.
It's the same reason I add a refresh button even though it's only valid on
Windows Phone!</p>
</blockquote>
<p>My ideas for this app include:</p>
<ul>
<li>Tapping on a task title in the task list will bring up the details page.</li>
<li>Toggling the completed link in the task list will set the completed flag.</li>
<li>Tapping the spinner will initiate a network refresh.</li>
<li>Clicking on Delete Task in the task details will ask "Are you sure?" before deleting the task.</li>
</ul>
<p>Now that we have our client screens planned out, we can move onto the thinking
about the mobile backend.</p>
<h2 id="the-mobile-backend">The Mobile Backend</h2>
<p>The mobile backend is an ASP.NET WebApi that is served from within Azure App
Service: a highly scalable and redundant web hosting facility that supports all
the major web languages (like ASP.NET, Node, PHP and Python).  </p>
<h3 id="creating-a-simple-azure-mobile-apps-backend">Creating a Simple Azure Mobile Apps Backend</h3>
<p>Microsoft Azure has included a comprehensive starter kit template in the
Azure SDK.  To get started:</p>
<ol>
<li>Fire up Visual Studio 2015</li>
<li>Add a new project with File -&gt; New Project...</li>
<li>
<p>In the <strong>New Project</strong> window:</p>
<ul>
<li>Open up Templates -&gt; Visual C# -&gt; Web and select <strong>ASP.NET Web Application (.NET Framework)</strong>.</li>
<li>Enter <strong>Backend</strong> for the Name and <strong>Chapter1</strong> for the Solution name.</li>
<li>Pick a suitable directory for the Location field.</li>
<li>Click on OK.</li>
</ul>
<p><img alt="New Project Form" src="../img/ch1-pic2.PNG" /></p>
</li>
<li>
<p>In the <strong>New ASP.NET Web Application</strong> window:</p>
<ul>
<li>Click on <strong>Azure Mobile App</strong>.</li>
<li>Do <strong>NOT</strong> check "Host in the cloud" or any other checkboxes.</li>
<li>Click on OK.</li>
</ul>
</li>
</ol>
<p>At this point, Visual Studio will create your backend project.</p>
<blockquote>
<p>It's very tempting to select <strong>Azure Mobile Services</strong> instead - it sounds closer to what you want.  Azure Mobile Services is the <strong>OLD</strong> service and is being shut down.  You should not select Azure Mobile Services for any project.</p>
</blockquote>
<p>There are a few files of which you should take note.  The Mobile Apps SDK is
initialized within <code>App_Start\Startup.MobileApp.cs</code> (with the call to the
configuration routine happening within <code>Startup.cs</code>).  The default startup
routine is reasonable but it hides what it is doing behind extension methods.
This technique is fairly common in ASP.NET programs.  Let's expand the configuration
routine to only include what we need:</p>
<pre><code class="csharp">public static void ConfigureMobileApp(IAppBuilder app)
{
    var config = new HttpConfiguration();
    var mobileConfig = new MobileAppConfiguration();

    mobileConfig
        .AddTablesWithEntityFramework()
        .ApplyTo(config);

    Database.SetInitializer(new MobileServiceInitializer());

    app.UseWebApi(config);
}
</code></pre>

<p>The minimal version of the mobile backend initialization is actually shorter
than the original.  It also only includes a data access layer.  Other services
like authentication, storage and push notifications are not configured.</p>
<p>There is another method in the <code>App_Start\Startup.MobileApp.cs</code> file for
seeding data into the database for us.  We can leave that alone for now, but
remember it is there in case we need to adust things for your own backend.</p>
<p>The next important file is the <code>DbContext</code> - located in <code>Models\MobileServiceContext.cs</code>.
Azure Mobile Apps is heavily dependent on <a href="https://msdn.microsoft.com/en-us/data/ef">Entity Framework v6.x</a> and the
<code>DbContext</code> is a central part of that library.  Fortunately, we don't need
to do anything to this file right now.  </p>
<p>Finally, we get to the meat of the backend.  The whole point of this demonstration
is to project a single database table - the TodoItem table - into the mobile realm
with the aid of an opinionated <a href="http://www.odata.org/documentation/odata-version-3-0/">OData v3</a> feed.  To that end, we need three
items:</p>
<ul>
<li>A <code>DbSet&lt;&gt;</code> within the <code>DbContext</code></li>
<li>A Data Transfer Object (or DTO)</li>
<li>A Table Controller</li>
</ul>
<p>The first item is already taken care of.  However, if we added additional tables,
we would have to modify the <code>MobileServiceContext</code>.  The DTO is a special model,
located in the <code>DataObjects</code> folder:</p>
<pre><code class="csharp">using Microsoft.Azure.Mobile.Server;

namespace Backend.DataObjects
{
    public class TodoItem : EntityData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }
    }
}
</code></pre>

<p>Note that the model uses <code>EntityData</code> as a base class.  The <code>EntityData</code> class
adds five additional properties to the class - we'll discuss those in more
details during the <a href="../data/">Data Access and Offline Sync</a> chapter.</p>
<p>Finally, let's look at the <code>Controllers\TodoItemController.cs</code>:</p>
<pre><code class="csharp">using System.Linq;
using System.Threading.Tasks;
using System.Web.Http;
using System.Web.Http.Controllers;
using System.Web.Http.OData;
using Backend.DataObjects;
using Backend.Models;
using Microsoft.Azure.Mobile.Server;

namespace Backend.Controllers
{
    public class TodoItemController : TableController&lt;TodoItem&gt;
    {
        protected override void Initialize(HttpControllerContext controllerContext)
        {
            base.Initialize(controllerContext);
            MobileServiceContext context = new MobileServiceContext();
            DomainManager = new EntityDomainManager&lt;TodoItem&gt;(context, Request);
        }

        // GET tables/TodoItem
        public IQueryable&lt;TodoItem&gt; GetAllTodoItems() =&gt; Query();

        // GET tables/TodoItem/48D68C86-6EA6-4C25-AA33-223FC9A27959
        public SingleResult&lt;TodoItem&gt; GetTodoItem(string id) =&gt; Lookup(id);

        // PATCH tables/TodoItem/48D68C86-6EA6-4C25-AA33-223FC9A27959
        public Task&lt;TodoItem&gt; PatchTodoItem(string id, Delta&lt;TodoItem&gt; patch) =&gt; UpdateAsync(id, patch);

        // POST tables/TodoItem
        public async Task&lt;IHttpActionResult&gt; PostTodoItem(TodoItem item)
        {
            TodoItem current = await InsertAsync(item);
            return CreatedAtRoute(&quot;Tables&quot;, new { id = current.Id }, current);
        }

        // DELETE tables/TodoItem/48D68C86-6EA6-4C25-AA33-223FC9A27959
        public Task DeleteTodoItem(string id) =&gt; DeleteAsync(id);
    }
}
</code></pre>

<p>The <code>TableController</code> is the central processing for the database access layer.
It handles all the OData capabilities for us.  This means that the actual code
for this controller is tiny - just 12 lines of code.</p>
<blockquote>
<p>You can delete the <code>Controllers\ValuesController.cs</code> file if you like - it isn't important for this walkthrough.</p>
</blockquote>
<p>We can build the project at this point.  If Visual Studio hasn't done so already,
the missing NuGet packages for Azure Mobile Apps will be downloaded.  There
should not be any errors.  If there are, check the typing for any changes you
made.</p>
<h3 id="building-an-azure-app-service-for-mobile-apps">Building an Azure App Service for Mobile Apps</h3>
<p>The next step in the process is to build the resources on Azure that will run
your mobile backend.  Start by logging into the <a href="https://portal.azure.com/">Azure Portal</a>, then follow
these instructions:</p>
<ol>
<li>Click on the big <strong>+ New</strong> button in the top-left corner.</li>
<li>Click on <strong>Web + Mobile</strong>, then <strong>Mobile App</strong>.</li>
<li>
<p>Enter a unique name in the <strong>App name</strong> box.</p>
<blockquote>
<p>Since the name doesn't matter and it has to be unique, you can use <a href="https://guidgenerator.com/">a GUID generator</a> to generate a unique name.  </p>
</blockquote>
</li>
<li>
<p>If you have more than one subscription (for example, you have a trial and
    an MSDN subscription), then ensure you select the right subscription in
    the <strong>Subscription</strong> drop-down.</p>
</li>
<li>
<p>Select <strong>Create new</strong> under resource group and enter a name for this mobile application.</p>
<blockquote>
<p>Resource groups are great for grouping all the resources associated with a mobile application together.  During development, it means you can delete all the resources in one operation.  For production, it means you can see how much the service is costing you and how the resources are being used.</p>
</blockquote>
</li>
<li>
<p>Finally, select or create a new <strong>App Service Plan</strong>.</p>
<blockquote>
<p>The App Service Plan is the thing that actually bills you - not the web or mobile backend.  You can run a number of web or mobile backends on the same App Service Plan.</p>
</blockquote>
<p>I tend to create a new App Service Plan for each mobile application.  This is because the App Service Plan lives inside the Resource Group that you create.  The process is relatively simple.  You have two choices.  The easy choice is where is the service going to run.  In a production environment, the correct choice is "near your customers".  During development "close to the developers" is a good choice.  Unfortunately, neither of those is an option, so you will have to translate into some sort of geographic location.  With 16 regions to choose from, you have a lot of choice.</p>
<p>The second choice you have to make is what to run the service on - also known as the Pricing tier.  If you click on <strong>View all</strong>, you will see you have lots of choices. F1 Free and D1 Shared, for example, run on shared resources and are CPU limited. You should avoid these as the service will stop responding when you are over the CPU quota.  That leaves Basic, Standard and Premium.  Basic has no automatic scaling and can run up to 3 instances - perfect for development tasks.  Standard and Premium both have automatic scaling and large amounts of storage - they differ in the number of sites or instances you can run on them.  </p>
<p>Finally, there is a number after the plan - this tells you how big the virtual machine is that the plan is running on.  The numbers differ by number of cores and memory.</p>
<p>For our purposes, an F1 Free site is enough to run the site unless we run into problems.</p>
</li>
<li>
<p>Once you have created your app service plan and saved it, click on <strong>Create</strong>.</p>
</li>
</ol>
<p>The creation of the service can take a couple of minutes, depending on what else is going on.  Once you have created your app service, the App Service blade will open up.</p>
<blockquote>
<p>What's the difference between a Web App, a Mobile App and an API App?  Not a lot.  The type determines which Quick start projects are available in the Quick start menu under <strong>All settings</strong>.  Since we selected a Mobile app, a set of starter client projects for mobile devices will be presented.</p>
</blockquote>
<p>The next step in the process is to create a SQL Azure instance.  The ASP.NET application that we produced earlier will use this to store the data presented in the table controller.</p>
<ol>
<li>Click on the <strong>+ New</strong> button on the left hand side of the page.</li>
<li>Select <strong>Data + Storage</strong> and then <strong>SQL Database</strong>.</li>
<li>Enter a unique database name (I use a GUID again) in the <strong>Database name</strong> box.</li>
<li>Select <strong>Use existing</strong> under the <strong>Resource group</strong>, then select the resource group you created earlier.</li>
<li>Select <strong>Blank database</strong> in the <strong>Select source</strong> box.</li>
<li>
<p>Click on <strong>Configure required settings</strong> for the <strong>Server</strong>.</p>
<ul>
<li>Click on <strong>Create a new server</strong>.</li>
<li>Enter another globally unique name for the <strong>Server name</strong> (I use a GUID yet again).</li>
<li>Enter <strong>appservice</strong> in the <strong>Server admin login</strong> (or use your own name).</li>
<li>Enter a password in the <strong>Password</strong> and <strong>Confirm password</strong> boxes.</li>
<li>Select the same location as your App Service in the <strong>Location</strong> box.</li>
<li>Click on <strong>Select</strong> to create the Server.</li>
</ul>
</li>
<li>
<p>Click on the <strong>Pricing tier</strong>.  The <strong>B Basic</strong> plan is the cheapest plan available.</p>
</li>
<li>Click on <strong>Create</strong>.</li>
</ol>
<p>The SQL Azure instance takes longer to deploy than the App Service in general.
Unfortunately, you cannot get away without a cost if you are going to develop
mobile backends with C#.</p>
<blockquote>
<p>GUIDs are not the best names to use when you need to actually find resources, but the prevent conflicts when deploying, so I prefer them.  You can prefix them (example: chapter1-GUID) to aid in finding them.  Generally, the first four digits are enough to identify individual resources.</p>
</blockquote>
<p>Finally, you will need to link your SQL Azure instance to the App Service instance:</p>
<ol>
<li>Click on <strong>Resource groups</strong> in the left hand side menu.</li>
<li>Click on the resource group you created.</li>
<li>Click on the App Service you created.</li>
<li>Click on <strong>All settings</strong>.</li>
<li>Click on <strong>Data connections</strong> in the <strong>MOBILE</strong> menu.</li>
<li>
<p>Click on <strong>Add</strong>.</p>
<ul>
<li>Click on the <strong>Configure required settings</strong> under <strong>SQL Database</strong>.</li>
<li>Select the database you just created, then click on <strong>Select</strong>.</li>
<li>Click on <strong>Configure required settings</strong> under <strong>Connection string</strong>.</li>
<li>Enter <strong>appservice</strong> in the <strong>User Name</strong> box.</li>
<li>Enter your chosen password in the <strong>Password</strong> box.</li>
<li>watch for green tick marks to ensure the username and password are correct.</li>
<li>Click on <strong>OK</strong></li>
<li>Click on <strong>OK</strong> in the <strong>Add data connection</strong> blade.</li>
</ul>
</li>
</ol>
<p>This produces another deployment step.  It doesn't take very long so you can
switch back to your Visual Studio window.</p>
<blockquote>
<p>If you want a completely free mobile backend, search for the <strong>Mobile Apps
Quickstart</strong> in the Azure Marketplace.  This template does not require a
database.  It relies on a Node backend, however, so you won't be developing a C#
backend.</p>
</blockquote>
<h3 id="deploying-the-azure-mobile-apps-backend">Deploying the Azure Mobile Apps Backend</h3>
<p>Deploying to Azure as a developer can be accomplished while entirely within Visual Studio:</p>
<ol>
<li>Right-click on the <strong>Backend</strong> project, then select <strong>Publish...</strong>.</li>
<li>
<p>Make sure you see this screen shot:</p>
<p><img alt="Publish Dialog" src="../img/ch1-pic3.PNG" /></p>
<p>If you do not see this image, then it is likely you have an older version
of the Azure SDK installed.  Make sure the Azure SDK version is v2.9 or
later.</p>
</li>
<li>
<p>Click on <strong>Microsoft Azure App Service</strong>.</p>
</li>
<li>You may be prompted to enter your Azure credentials here.  Enter the same
    information that you enter to access the Azure Portal.</li>
<li>In the lower box, expand the resource group that you created and select the
    app service you created in the portal.</li>
<li>Click on <strong>OK</strong>.</li>
<li>Click on <strong>Publish</strong>.</li>
</ol>
<p>Visual Studio will open a browser.  Add <code>/tables/todoitem?ZUMO-API-VERSION=2.0.0</code>
to the end of the URL.  This will show the JSON contents of the table that we
defined in the backend.</p>
<blockquote>
<p>You will see the word ZUMO all over the SDK, including in optional HTTP headers and throughout the SDK source code.  ZUMO was the original code name within Microsoft for A<b>ZU</b>re <b>MO</b>bile.</p>
</blockquote>
<h2 id="the-mobile-client">The Mobile Client</h2>
<p>Now that the mobile backend is created and deployed, we can move onto the client
side of things.  First of all, let's prepare the Visual Studio instance.  If you
have installed the Cross-Platform Mobile tools during the installation, most of
the work has already been done.  However, you may want to install the <a href="https://visualstudiogallery.msdn.microsoft.com/e1d736b0-5531-4eee-a27a-30a0318cac45">Xamarin
Forms Templates</a> using the Tools -&gt; Extensions and Updates...</p>
<p><img alt="Installing the Xamarin Forms Templates" src="../img/ch1-xamarinforms-templates.PNG" /></p>
<p>This template pack provides additional templates for Xamarin Forms development
that I find useful.  Most notably, there is a specific template for a mobile
cross-platform project covering the Android, iOS and UWP mobile platforms.  </p>
<h3 id="creating-a-simple-mobile-client-with-xamarin">Creating a Simple Mobile Client with Xamarin</h3>
<p>Now that we have prepared your Visual Studio instance, we can create the project.
Right-click on the solution and select <strong>Add</strong> -&gt; <strong>New Project...</strong>.  This will
bring up the familiar New Project dialog.  The project you want is under <strong>Visual C#</strong>
-&gt; <strong>Cross-Platform</strong>, and is called <strong>Xamarin.Forms (UWP/Android/iOS)</strong>.  If you
did not install the Xamarin Forms Template add-on, then choose the
<strong>Blank Xaml App (Xamarin.Forms Portable)</strong> project.  Give the project a name,
then click on <strong>OK</strong>.</p>
<p><img alt="Creating the Xamarin Forms Project" src="../img/ch1-new-xf-project.PNG" /></p>
<p>Project creation will take longer than you expect, but there is a lot going on.
If you have never created a mobile or UWP project before, you will be prompted
to turn on Windows 10 Developer Mode:</p>
<p><img alt="Turn on Developer Mode" src="../img/ch1-win10-developermode.PNG" /></p>
<p>Developer mode in Windows 10 allows you to run unsigned binaries for development
purposes and to turn on debugging so that you can step through your UWP programs
within Visual Studio.</p>
<p>We will also get asked to choose what version of the Universal Windows platform
we want to target:</p>
<p><img alt="UWP Platform Chooser" src="../img/ch1-pick-uwp-platform.PNG" /></p>
<p>Version 10240 was the first version of Windows 10 that was released to the general
public, so that's a good minimum version to pick.  In general, the defaults for
the Universal Windows Platform choice are good enough.</p>
<p>Finally, we will be asked about our iOS build host.  This must be some sort of
mac.  As I said previously, I use a Mac Mini underneath my desk for this. The
latest Xamarin tools forego a dedicated build service and instead use a secure
shell (ssh) connection to connect to the Mac.  That means you must go through
the process for <a href="https://developer.xamarin.com/guides/ios/getting_started/installation/windows/connecting-to-mac/">setting up the mac for ssh access</a>.  </p>
<p>When prompted about the Xamarin Mac Agent, click on <strong>OK</strong> to get the list of
local mac agents:</p>
<p><img alt="Xamarin Mac Agent - Host List" src="../img/ch1-xamarin-mac-agent.PNG" /></p>
<p>Highlight your mac (in case there are multiples), then click on <strong>Connect...</strong>.
You will be prompted for your username and password:</p>
<p><img alt="Xamarin Mac Agent - Login" src="../img/ch1-xamarin-mac-login.PNG" /></p>
<p>Just enter the username and password that you use to log in to your mac and click
on <strong>Login</strong>.</p>
<blockquote>
<p><strong>What's my username?</strong>  Apple tries very hard to hide the real username of
your account from you.  The easiest way to find your mac username is to open up
the Finder.  The name next to your home icon is the name of your account.</p>
</blockquote>
<p>Once the project is created, you will see that four new projects have been
created: a common library which you named plus one project for each platform
that has been chosen.  Since we chose a project with three platforms, we get
four projects:</p>
<p><img alt="The TaskList Project Layout" src="../img/ch1-xf-newsolution.PNG" /></p>
<p>Most of our work will happen in the common library.  However, we can introduce
platform-specific code at any point.  The platform-specific code is stored in
the platform-specific project.</p>
<p>There is one final item we must do before we leave the set up of the project.
There are a number of platform upgrades that inevitably have to happen.  The
Xamarin Platform is updated much more often than the Visual Studio plugin - the
updates are released via NuGet: the standard method of distributing libraries
for .NET applications.  In addition to the inevitable Xamarin Platform update,
we also will want to add the following NuGet packages:</p>
<ul>
<li>Microsoft.Azure.Mobile.Client v2.0.0 or later</li>
<li>Newtonsoft.Json v6.0.3 or later</li>
</ul>
<blockquote>
<p>Although it is tempting, do not include a v1.x version of the Mobile Client.
This is for the earlier Azure Mobile Services.  There are many differences between
the wire protocols of the two products.</p>
</blockquote>
<p>You can install the NuGet packages by right-clicking on the project and selecting
<strong>Manage NuGet Packages...</strong>.</p>
<p><img alt="Manage NuGet Packages" src="../img/ch1-nuget-mobileinstall.PNG" /></p>
<p>You must install the updates and the new NuGet packages on all four projects.<br />
This involves repeating the same process for each client project in your
solution.</p>
<blockquote>
<p>Android generally has more updates than the other platforms.  Ensure that you
update the main Xamarin.Forms package and then refresh the update list.  This will
ensure the right list of packages is updated.</p>
</blockquote>
<h3 id="building-the-common-library">Building the Common Library</h3>
<h3 id="building-the-client-for-android">Building the Client for Android</h3>
<h3 id="building-the-client-for-universal-windows">Building the Client for Universal Windows</h3>
<h3 id="building-the-client-for-ios">Building the Client for iOS</h3>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../authentication/" class="btn btn-neutral float-right" title="Authentication">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../authentication/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
