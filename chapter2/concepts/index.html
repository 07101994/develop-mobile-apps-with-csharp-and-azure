<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Concepts - Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure">
    <meta property="og:image" content="None/../../">
    <meta name="apple-mobile-web-app-title" content="Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Chapter 2 - Authentication <i class="icon icon-link"></i>
              
            
          </span>
        
        Concepts
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Getting Started" href="../..">
      Getting Started
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Chapter 1 - Introduction</span>
    <ul>
      
        
  <li>
    <a class="" title="Your First App - PC Edition" href="../../chapter1/firstapp_pc/">
      Your First App - PC Edition
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Your First App - Mac Edition" href="../../chapter1/firstapp_mac/">
      Your First App - Mac Edition
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Chapter 2 - Authentication</span>
    <ul>
      
        
  <li>
    <a class="current" title="Concepts" href="./">
      Concepts
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="The OAuth Process" href="#the-oauth-process">
                The OAuth Process
              </a>
            </li>
          
            <li class="anchor">
              <a title="Server Side vs. Client Side" href="#server-side-vs-client-side">
                Server Side vs. Client Side
              </a>
            </li>
          
            <li class="anchor">
              <a title="Authentication Providers" href="#authentication-providers">
                Authentication Providers
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Authentication in the Backend" href="../backend/">
      Authentication in the Backend
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Enterprise Authentication" href="../enterprise/">
      Enterprise Authentication
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Social Authentication" href="../social/">
      Social Authentication
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Debugging Authentication" href="../debugging/">
      Debugging Authentication
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Custom Authentication" href="../custom/">
      Custom Authentication
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Claims and Authorization" href="../authorization/">
      Claims and Authorization
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Tokens in Real Apps" href="../realworld/">
      Tokens in Real Apps
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Backup Content" href="../../2_authentication/">
      Backup Content
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <a class="" title="Data Access and Offline Sync" href="../../data/">
      Data Access and Offline Sync
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Authenticated Data Access" href="../../authdata/">
      Authenticated Data Access
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="File Management" href="../../files/">
      File Management
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Push Notifications" href="../../push/">
      Push Notifications
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Server Side Code" href="../../custom/">
      Server Side Code
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Media Services" href="../../media/">
      Media Services
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Leveraging Search" href="../../search/">
      Leveraging Search
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Web and Mobile Apps" href="../../combined/">
      Web and Mobile Apps
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="The Development Environment" href="../../developing/">
      The Development Environment
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Testing your Application" href="../../testing/">
      Testing your Application
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Troubleshooting" href="../../troubleshooting/">
      Troubleshooting
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Going to Production" href="../../production/">
      Going to Production
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Xamarin Forms Tips" href="../../xamarin_tips/">
      Xamarin Forms Tips
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Android Developer Notes" href="../../android_appendix/">
      Android Developer Notes
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="References" href="../../references/">
      References
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Credits" href="../../credits/">
      Credits
    </a>
    
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Concepts</h1>
          
          <p>One of the very first things you will want to do is to provide users with a unique experience.  For our example
task list application, this could be as simple as providing a task list for the user who is logged in.  In more
complex applications, this is the gateway to role-based access controls, group rules, and sharing with your
friends.  In all these cases, properly identifying the user using the phone is the starting point.</p>
<p>Authentication provides a process by which the user that is using the mobile device can be identified securely.
This is generally done by entering a username and password.  However, modern systems can also provide
<a href="https://en.wikipedia.org/wiki/Multi-factor_authentication">multi-factor authentication</a>, send you a text message to a registered device, or <a href="https://support.apple.com/en-us/HT201371">use your fingerprint</a>
as the password.</p>
<h2 id="the-oauth-process">The OAuth Process<a class="headerlink" href="#the-oauth-process" title="Permanent link">&para;</a></h2>
<p>In just about every single mobile application, a process called <a href="http://oauth.net/2/">OAuth</a> is used to properly identify a user
to the mobile backend.  OAuth is not an authentication mechanism in its own right.  It is used to route the
authentication request to the right place and to verify that the authentication took place. There are three
actors in the OAuth protocol:</p>
<ul>
<li>The <strong>Client</strong> is the application attempting to get access to the resource.</li>
<li>The <strong>Resource</strong> is the mobile backend that the client is attempting to access.</li>
<li>The <strong>Identity Provider</strong> (or IdP) is the service that is responsible for authenticating the client.</li>
</ul>
<p>At the end of the process, a cryptographically signed token is minted.  This token is added to every single
subsequent request to identify the user.</p>
<h2 id="server-side-vs-client-side">Server Side vs. Client Side<a class="headerlink" href="#server-side-vs-client-side" title="Permanent link">&para;</a></h2>
<p>There are two types of authentication flow: Server-Flow and Client-Flow.  They are so named because of who
controls the flow of the actual authentication.</p>
<p><img alt="Authentication Flow" src="../img/auth-flow.PNG" /></p>
<p>Server-flow is named because the authentication flow is managed by the server through a web connection.  It
is generally used in two cases:</p>
<ul>
<li>You want a simple placeholder for authentication in your mobile app while you are developing other code.</li>
<li>You are developing a web app.</li>
</ul>
<p>In the case of Server Flow:</p>
<ol>
<li>The client brings up a web view and asks for the login page from the resource.</li>
<li>The resource redirects the client to the identity provider.</li>
<li>The identity provider does the authentication before redirecting the client
   back to the resource (with an identity provider token).</li>
<li>The resource validates the identity provider token with the identity provider.</li>
<li>Finally, the resource mints a new resource token that it returns to the client.</li>
</ol>
<p>Client-flow authentication uses an IdP provided SDK to integrate a more native feel to the authentication
flow.  The actual flow happens on the client, communicating only with the IdP.</p>
<ol>
<li>The client uses the IdP SDK to communicate with the identity provider.</li>
<li>The identity provider authenticates the user, returning an identity provider token.</li>
<li>The client presents the identity provider token to the resource.</li>
<li>The resource validates the identity provider token with the identity provider.</li>
<li>Finally, the resource mints a new resource token that it returns to the client.</li>
</ol>
<p>For example, if you use the Facebook SDK for authentication, your app will seamlessly switch over into the
Facebook app and ask you to authorize your client application before switching you back to your client application.</p>
<p>You should use the IdP SDK when developing an app that will be released on the app store.  The identity providers
will advise you to use their SDK and it provides the best experience for your end users.</p>
<h2 id="authentication-providers">Authentication Providers<a class="headerlink" href="#authentication-providers" title="Permanent link">&para;</a></h2>
<p>Azure Mobile Apps supports five identity providers natively:</p>
<ul>
<li>Azure Active Directory</li>
<li>Facebook</li>
<li>Google</li>
<li>Microsoft (MSA)</li>
<li>Twitter</li>
</ul>
<p>In addition, you can set up client-flow custom authentication that allows you to mint a ZUMO token to your
specifications for any provider using a client-flow.  For example, you could use authentication providers
like <a href="https://azure.microsoft.com/en-us/services/active-directory-b2c/">Azure AD B2C</a>, <a href="https://developer.linkedin.com/docs/oauth2">LinkedIn</a> or <a href="https://developer.github.com/v3/oauth/">GitHub</a>, a third-party authentication provider like  <a href="https://auth0.com/">Auth0</a>,
or you could set up an identity table in your database so that you can check  username and password without
an identity provider.</p>
<!-- Images -->

<!-- External Links -->
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../../chapter1/firstapp_mac/" title="Your First App - Mac Edition">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Your First App - Mac Edition
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../backend/" title="Authentication in the Backend">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Authentication in the Backend
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = '';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>